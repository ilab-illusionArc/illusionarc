<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Unity Web Player | Boss Rush</title>

    <meta name="viewport"
          content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, viewport-fit=cover" />

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #000;
        }

        /* ✅ iframe-safe sizing (avoid position:fixed inside iframe) */
        #unity-container {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            background: #000;
        }

        #unity-canvas {
            width: 100% !important;
            height: 100% !important;
            display: block;
            background: url('Build/boss2.jpg') center / cover no-repeat;

            /* ✅ important for mobile */
            touch-action: none;
            -webkit-user-select: none;
            user-select: none;
        }

        /* Optional loading */
        #loading {
            position: absolute;
            left: 16px;
            right: 16px;
            bottom: 16px;
            height: 10px;
            border-radius: 999px;
            overflow: hidden;
            background: rgba(255,255,255,0.12);
            border: 1px solid rgba(255,255,255,0.18);
        }
        #loading > div {
            height: 100%;
            width: 0%;
            background: rgba(34,211,238,0.9);
            transition: width .15s linear;
        }
    </style>
</head>

<body>
<div id="unity-container">
    <canvas id="unity-canvas" tabindex="-1"></canvas>
    <div id="loading"><div id="bar"></div></div>
</div>

<script src="Build/boss2.loader.js"></script>
<script>
    const canvas = document.querySelector("#unity-canvas");
    const container = document.querySelector("#unity-container");
    const bar = document.querySelector("#bar");
    const loading = document.querySelector("#loading");

    function resize() {
        // ensure the canvas always matches the container box
        const w = container.clientWidth;
        const h = container.clientHeight;
        canvas.style.width = w + "px";
        canvas.style.height = h + "px";
    }

    resize();
    window.addEventListener("resize", resize);
    window.addEventListener("orientationchange", () => setTimeout(resize, 200));

    createUnityInstance(canvas, {
        arguments: [],
        dataUrl: "Build/boss2.data.unityweb",
        frameworkUrl: "Build/boss2.framework.js.unityweb",
        codeUrl: "Build/boss2.wasm.unityweb",
        streamingAssetsUrl: "StreamingAssets",
        companyName: "illusion Lab",
        productName: "Boss Rush",
        productVersion: "0.11",
        // devicePixelRatio: 1, // (optional) set to 1 for better mobile performance
    }, (progress) => {
        // progress 0..1
        if (bar) bar.style.width = Math.round(progress * 100) + "%";
        if (progress >= 0.99 && loading) loading.style.display = "none";
    }).catch((message) => {
        alert(message);
    });
</script>
</body>
</html>
